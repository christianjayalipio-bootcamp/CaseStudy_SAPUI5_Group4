<mvc:View xmlns:mvc="sap.ui.core.mvc"
          xmlns="sap.m"
          xmlns:form="sap.ui.layout.form"
          xmlns:core="sap.ui.core"
          controllerName="com.ui5.trng.project1.controller.EditOrder">
    <Page id="pageEdit" title="Edit Order" floatingFooter="true">

        <!-- Order Detail Panel -->
        <content>
            <Panel width="auto" expandable="false" expanded="true" headerText="Order Detail" class="sapUiResponsiveMargin">
                <HBox justifyContent="Center">
                    <form:SimpleForm editable="true" layout="ColumnLayout"
                                     columnsXL="1" columnsL="1" columnsM="1">
                        <form:content>
                            <Label text="Order Number"/>
                            <Input value="{OrderID}" width="50%" editable="false"/>

                            <Label text="Created On"/>
                            <Input value="{path: 'CreatedOn', formatter: '.formatter.formatOrderDate'}" width="50%" editable="false"/>

                            <Label text="Receiving Plant"/>
                            <Input value="{ReceivingPlant}" width="50%" editable="false"/>

                            <Label text="Delivery Plant"/>
                            <Input value="{DeliveringPlant}" width="50%" editable="false"/>

                            <Label text="Status"/>
                            <!-- ComboBox instead of Select -->
                            <ComboBox width="50%" selectedKey="{Status}">
                                <items>
                                    <core:Item key="Created" text="Created"/>
                                        <core:Item key="Released" text="Released"/>
                                        <core:Item key="Partially Completed" text="Partially Completed"/>
                                        <core:Item key="Delivered" text="Delivered"/>
                                </items>
                            </ComboBox>
                        </form:content>
                    </form:SimpleForm>
                </HBox>
            </Panel>
        </content>

        <!-- Products Panel -->
        <Panel width="auto" expandable="false" class="sapUiResponsiveMargin" expanded="true">
            <headerToolbar>
                <Toolbar>
                    <Title text="Products"/>
                    <ToolbarSpacer/>
                    <Button icon="sap-icon://add" enabled="false"/>
                    <Button icon="sap-icon://delete" enabled="false"/>
                </Toolbar>
            </headerToolbar>
            <content>
                <Table items="{Products}" id="productsTableEdit" mode="MultiSelect">
                    <columns>
                        <Column><header><Label text="Product Name"/></header></Column>
                        <Column><header><Label text="Quantity"/></header></Column>
                        <Column><header><Label text="Price Per Quantity"/></header></Column>
                        <Column><header><Label text="Total Price"/></header></Column>
                    </columns>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{ProductName}"/>
                                <Text text="{Quantity}"/>
                                <Text text="{PricePerQuantity}"/>
                                <Text text="{= ${Quantity} * ${PricePerQuantity} }"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </content>
        </Panel>

        <!-- Footer -->
        <footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
                <Button text="Save" type="Emphasized" enabled="false"/>
                <Button text="Cancel" type="Reject" press=".onCancelPress"/>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>