<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:form="sap.ui.layout.form"
  controllerName="com.ui5.trng.project1.controller.CreateOrder">
  <Page id="page3" title="Create Order" floatingFooter="true">
    <content>
      <Panel width="auto" expanded="true" id="pnl_orderDetails" class="sapUiResponsiveMargin">
        <headerToolbar>
          <Toolbar>
            <Title text="Order Details" />
            <ToolbarSpacer />
          </Toolbar>
        </headerToolbar>
        <content>
          <HBox justifyContent="Center">
            <form:SimpleForm
              editable="true"
              layout="ColumnLayout"
              id="form_OrderDetails">
              <form:content>
                <Label text="Receiving Plant" required="true" />
                <Input
                  id="recPlant"
                  value="{orderModel>/ReceivingPlantID}"
                  showValueHelp="true"
                  valueHelpRequest="onValueHelpRequest"
                  width="15rem" />
                <Label text="Delivering Plant" required="true" />
                <Input
                  id="delPlant"
                  value="{orderModel>/DeliveringPlantID}"
                  showValueHelp="true"
                  valueHelpRequest="onValueHelpRequest"
                  width="15rem" />
              </form:content>
            </form:SimpleForm>
          </HBox>
        </content>
      </Panel>
      <Panel
        xmlns="sap.m" width="auto" expanded="true" id="pnl_Products" class="sapUiResponsiveMargin">
        <headerToolbar>
          <Toolbar id="tb2_products">
            <Title id="title_products" text="Products "/>
            <ToolbarSpacer id="_IDGenToolbarSpacer2"/>
            <Button id="btn_addProducts" icon="sap-icon://add" press="onAddProduct" />
            <content>
              <Button
                xmlns="sap.m" id="btn_deleteProducts" icon="sap-icon://delete" press="onDeleteProducts"/>
              </content>
            </Toolbar>
          </headerToolbar>
          <content>
            <Table
                id="productTable"
                items="{orderModel>/SelectedProducts}"
                mode="MultiSelect"
                selectionChange="onProductSelect">
              <columns>
                <Column>
                  <Text text="Product Name" />
                </Column>
                <Column>
                  <Text text="Quantity" />
                </Column>
                <Column>
                  <Text text="Price per Quantity" />
                </Column>
                <Column>
                  <Text text="Total Price" />
                </Column>
              </columns>
              <items>
                <ColumnListItem>
                  <cells>
                    <Text text="{orderModel>ProductName}" />
                    <Text text="{orderModel>Quantity}" />
                    <Text text="{orderModel>PricePerQuantity}" />
                    <Text text="{orderModel>TotalPrice}" />
                  </cells>
                </ColumnListItem>
              </items>
            </Table>
          </content>
        </Panel>
      </content>
      <footer>
        <OverflowToolbar id="footer_OverflowToolbar">
          <ToolbarSpacer id="footer_ToolbarSpacer"/>
          <Button id="Save" type="Accept" text="Save" press="onSaveOrder"/>
          <Button id="Cancel" type="Reject" press="onPressCancel" text="Cancel"/>
        </OverflowToolbar>
      </footer>
    </Page>
  </mvc:View>